<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1400 1000" font-family="sans-serif">
  <defs>
    <!-- Arrow markers -->
    <marker id="arrowR" viewBox="0 0 10 10" refX="10" refY="5" markerWidth="5" markerHeight="5" orient="auto"><path d="M0 0L10 5L0 10z" fill="#F44336"/></marker>
    <marker id="arrowK" viewBox="0 0 10 10" refX="10" refY="5" markerWidth="5" markerHeight="5" orient="auto"><path d="M0 0L10 5L0 10z" fill="#212121"/></marker>
    <marker id="arrowB" viewBox="0 0 10 10" refX="10" refY="5" markerWidth="5" markerHeight="5" orient="auto"><path d="M0 0L10 5L0 10z" fill="#2196F3"/></marker>
    <marker id="arrowO" viewBox="0 0 10 10" refX="10" refY="5" markerWidth="5" markerHeight="5" orient="auto"><path d="M0 0L10 5L0 10z" fill="#FF9800"/></marker>
    <!-- AC warning pattern -->
    <pattern id="acWarning" patternUnits="userSpaceOnUse" width="8" height="8">
      <rect width="8" height="8" fill="#FFD600"/>
      <rect x="0" y="0" width="4" height="4" fill="#212121"/>
      <rect x="4" y="4" width="4" height="4" fill="#212121"/>
    </pattern>
  </defs>

  <!-- Background -->
  <rect width="1400" height="1000" fill="#FFFFFF"/>

  <!-- Title -->
  <text x="700" y="32" text-anchor="middle" font-size="20" font-weight="bold" fill="#333">Phase 3: ブレッドボード＋リレー配線図</text>
  <text x="700" y="52" text-anchor="middle" font-size="12" fill="#888">Raspberry Pi 4 Model B — 4chリレー制御（循環ポンプ・エアポンプ）</text>

  <!-- ================================================ -->
  <!--  BREADBOARD (Left-Center)                        -->
  <!-- ================================================ -->
  <g id="breadboard">
    <rect x="80" y="100" width="500" height="380" rx="8" fill="#F5F5DC" stroke="#8B8B7A" stroke-width="2"/>
    <text x="330" y="125" text-anchor="middle" font-size="12" font-weight="bold" fill="#555">ブレッドボード</text>

    <!-- Power rails top -->
    <rect x="100" y="140" width="460" height="30" rx="4" fill="#FFEBEE" stroke="#F44336" stroke-width="1"/>
    <text x="110" y="159" font-size="9" fill="#F44336" font-weight="bold">+ (5V)</text>
    <rect x="100" y="175" width="460" height="30" rx="4" fill="#ECEFF1" stroke="#212121" stroke-width="1"/>
    <text x="110" y="194" font-size="9" fill="#212121" font-weight="bold">- (GND)</text>

    <!-- Main breadboard area -->
    <rect x="100" y="220" width="460" height="240" rx="4" fill="#FFF8E1" stroke="#8B8B7A" stroke-width="1"/>

    <!-- Column labels -->
    <text x="140" y="238" font-size="8" fill="#666">a  b  c  d  e     f  g  h  i  j</text>

    <!-- Row holes (simplified representation) -->
    <g fill="#888" font-size="7">
      <text x="105" y="260">1</text>
      <text x="105" y="285">5</text>
      <text x="105" y="310">10</text>
      <text x="105" y="335">15</text>
      <text x="105" y="360">20</text>
      <text x="105" y="385">25</text>
      <text x="105" y="410">30</text>
      <text x="105" y="435">35</text>
    </g>

    <!-- Hole grid (representative) -->
    <g fill="#333">
      <!-- Row 1-5 -->
      <circle cx="140" cy="255" r="2"/><circle cx="155" cy="255" r="2"/><circle cx="170" cy="255" r="2"/><circle cx="185" cy="255" r="2"/><circle cx="200" cy="255" r="2"/>
      <circle cx="230" cy="255" r="2"/><circle cx="245" cy="255" r="2"/><circle cx="260" cy="255" r="2"/><circle cx="275" cy="255" r="2"/><circle cx="290" cy="255" r="2"/>
      <!-- More rows... -->
      <circle cx="140" cy="280" r="2"/><circle cx="155" cy="280" r="2"/><circle cx="170" cy="280" r="2"/><circle cx="185" cy="280" r="2"/><circle cx="200" cy="280" r="2"/>
      <circle cx="230" cy="280" r="2"/><circle cx="245" cy="280" r="2"/><circle cx="260" cy="280" r="2"/><circle cx="275" cy="280" r="2"/><circle cx="290" cy="280" r="2"/>
    </g>
  </g>

  <!-- ================================================ -->
  <!--  RASPBERRY PI 4 (Top-Center)                     -->
  <!-- ================================================ -->
  <g id="raspberry-pi">
    <rect x="620" y="100" width="280" height="180" rx="8" fill="#2E7D32" stroke="#1B5E20" stroke-width="2"/>
    <text x="760" y="125" text-anchor="middle" font-size="14" font-weight="bold" fill="#C8E6C9">Raspberry Pi 4 Model B</text>

    <!-- GPIO Header representation -->
    <rect x="640" y="140" width="240" height="120" rx="4" fill="#1B5E20"/>
    <text x="760" y="160" text-anchor="middle" font-size="10" fill="#A5D6A7">GPIO 40-Pin Header</text>

    <!-- Key pins used (left column - odd pins) -->
    <g font-size="8" fill="#FFF">
      <circle cx="660" cy="180" r="4" fill="#F44336"/><text x="670" y="183">Pin 2: 5V</text>
      <circle cx="660" cy="200" r="4" fill="#212121" stroke="#666" stroke-width="1"/><text x="670" y="203">Pin 6: GND</text>
      <circle cx="660" cy="220" r="4" fill="#2196F3"/><text x="670" y="223">Pin 11: GPIO17</text>
      <circle cx="660" cy="240" r="4" fill="#2196F3"/><text x="670" y="243">Pin 13: GPIO27</text>
    </g>

    <!-- Right column - even pins -->
    <g font-size="8" fill="#FFF">
      <circle cx="800" cy="180" r="4" fill="#F44336"/><text x="810" y="183">Pin 4: 5V</text>
      <circle cx="800" cy="220" r="4" fill="#2196F3"/><text x="810" y="223">Pin 16: GPIO23</text>
      <circle cx="800" cy="240" r="4" fill="#2196F3"/><text x="810" y="243">Pin 18: GPIO24</text>
    </g>
  </g>

  <!-- ================================================ -->
  <!--  4CH RELAY MODULE                                -->
  <!-- ================================================ -->
  <g id="relay-module">
    <rect x="950" y="100" width="400" height="280" rx="8" fill="#E3F2FD" stroke="#1565C0" stroke-width="2"/>
    <text x="1150" y="125" text-anchor="middle" font-size="14" font-weight="bold" fill="#0D47A1">4ch リレーモジュール</text>
    <text x="1150" y="142" text-anchor="middle" font-size="10" fill="#1976D2">5V駆動 / 光アイソレータ付き</text>

    <!-- Input side -->
    <g id="relay-inputs">
      <rect x="970" y="160" width="100" height="200" rx="4" fill="#BBDEFB" stroke="#1976D2" stroke-width="1"/>
      <text x="1020" y="180" text-anchor="middle" font-size="10" font-weight="bold" fill="#1565C0">入力側</text>

      <circle cx="990" cy="200" r="5" fill="#F44336"/><text x="1000" y="204" font-size="9" fill="#333">VCC</text>
      <circle cx="990" cy="225" r="5" fill="#212121"/><text x="1000" y="229" font-size="9" fill="#333">GND</text>
      <circle cx="990" cy="255" r="5" fill="#2196F3"/><text x="1000" y="259" font-size="9" fill="#333">IN1 (GPIO17)</text>
      <circle cx="990" cy="280" r="5" fill="#2196F3"/><text x="1000" y="284" font-size="9" fill="#333">IN2 (GPIO27)</text>
      <circle cx="990" cy="305" r="5" fill="#2196F3"/><text x="1000" y="309" font-size="9" fill="#333">IN3 (GPIO23)</text>
      <circle cx="990" cy="330" r="5" fill="#2196F3"/><text x="1000" y="334" font-size="9" fill="#333">IN4 (GPIO24)</text>
    </g>

    <!-- Relay coils -->
    <g id="relay-coils">
      <rect x="1085" y="160" width="130" height="200" rx="4" fill="#E3F2FD" stroke="#1976D2" stroke-width="1"/>
      <text x="1150" y="180" text-anchor="middle" font-size="10" font-weight="bold" fill="#1565C0">リレーコイル</text>

      <!-- Relay 1 -->
      <rect x="1095" y="195" width="110" height="35" rx="3" fill="#FFF" stroke="#1976D2" stroke-width="1"/>
      <text x="1150" y="210" text-anchor="middle" font-size="8" fill="#1565C0">CH1: 循環ポンプ</text>
      <path d="M1105,220 q8,-6 16,0 q8,6 16,0 q8,-6 16,0" fill="none" stroke="#1565C0" stroke-width="1.5"/>

      <!-- Relay 2 -->
      <rect x="1095" y="235" width="110" height="35" rx="3" fill="#FFF" stroke="#1976D2" stroke-width="1"/>
      <text x="1150" y="250" text-anchor="middle" font-size="8" fill="#1565C0">CH2: エアポンプ</text>
      <path d="M1105,260 q8,-6 16,0 q8,6 16,0 q8,-6 16,0" fill="none" stroke="#1565C0" stroke-width="1.5"/>

      <!-- Relay 3 -->
      <rect x="1095" y="275" width="110" height="35" rx="3" fill="#FFF" stroke="#9E9E9E" stroke-width="1" stroke-dasharray="4,2"/>
      <text x="1150" y="290" text-anchor="middle" font-size="8" fill="#9E9E9E">CH3: UV殺菌灯(予約)</text>
      <path d="M1105,300 q8,-6 16,0 q8,6 16,0 q8,-6 16,0" fill="none" stroke="#9E9E9E" stroke-width="1"/>

      <!-- Relay 4 -->
      <rect x="1095" y="315" width="110" height="35" rx="3" fill="#FFF" stroke="#9E9E9E" stroke-width="1" stroke-dasharray="4,2"/>
      <text x="1150" y="330" text-anchor="middle" font-size="8" fill="#9E9E9E">CH4: 予備</text>
      <path d="M1105,340 q8,-6 16,0 q8,6 16,0 q8,-6 16,0" fill="none" stroke="#9E9E9E" stroke-width="1"/>
    </g>

    <!-- Output side -->
    <g id="relay-outputs">
      <rect x="1230" y="160" width="100" height="200" rx="4" fill="#FFECB3" stroke="#FF9800" stroke-width="1"/>
      <text x="1280" y="180" text-anchor="middle" font-size="10" font-weight="bold" fill="#E65100">出力側</text>

      <!-- CH1 terminals -->
      <text x="1240" y="210" font-size="8" fill="#333">COM1 ●</text>
      <text x="1240" y="223" font-size="8" fill="#4CAF50">NO1 ●</text>
      <text x="1240" y="236" font-size="8" fill="#F44336">NC1 ●</text>

      <!-- CH2 terminals -->
      <text x="1240" y="260" font-size="8" fill="#333">COM2 ●</text>
      <text x="1240" y="273" font-size="8" fill="#4CAF50">NO2 ●</text>
      <text x="1240" y="286" font-size="8" fill="#F44336">NC2 ●</text>

      <!-- CH3 terminals -->
      <text x="1240" y="310" font-size="8" fill="#9E9E9E">COM3 ●</text>
      <text x="1240" y="323" font-size="8" fill="#9E9E9E">NO3 ●</text>

      <!-- CH4 terminals -->
      <text x="1240" y="345" font-size="8" fill="#9E9E9E">COM4 ●</text>
      <text x="1240" y="358" font-size="8" fill="#9E9E9E">NO4 ●</text>
    </g>
  </g>

  <!-- ================================================ -->
  <!--  WIRING: Pi to Breadboard to Relay               -->
  <!-- ================================================ -->
  <g id="wiring-pi-relay">
    <!-- 5V from Pi to Breadboard + rail -->
    <polyline points="660,180 660,155 560,155" fill="none" stroke="#F44336" stroke-width="3"/>
    <text x="610" y="150" font-size="8" fill="#F44336" font-weight="bold">5V</text>

    <!-- 5V from Breadboard to Relay VCC -->
    <polyline points="560,155 920,155 920,200 970,200" fill="none" stroke="#F44336" stroke-width="3"/>

    <!-- GND from Pi to Breadboard - rail -->
    <polyline points="660,200 660,190 560,190" fill="none" stroke="#212121" stroke-width="3"/>
    <text x="610" y="188" font-size="8" fill="#333" font-weight="bold">GND</text>

    <!-- GND from Breadboard to Relay GND -->
    <polyline points="560,190 930,190 930,225 970,225" fill="none" stroke="#212121" stroke-width="3"/>

    <!-- GPIO17 (Pin 11) to IN1 -->
    <polyline points="660,220 640,220 640,255 970,255" fill="none" stroke="#2196F3" stroke-width="2"/>
    <text x="800" y="250" font-size="8" fill="#2196F3">GPIO17 → IN1</text>

    <!-- GPIO27 (Pin 13) to IN2 -->
    <polyline points="660,240 635,240 635,280 970,280" fill="none" stroke="#2196F3" stroke-width="2"/>
    <text x="800" y="276" font-size="8" fill="#2196F3">GPIO27 → IN2</text>

    <!-- GPIO23 (Pin 16) to IN3 -->
    <polyline points="800,220 820,220 820,305 970,305" fill="none" stroke="#2196F3" stroke-width="2" stroke-dasharray="5,3"/>
    <text x="890" y="302" font-size="8" fill="#9E9E9E">GPIO23 → IN3 (予約)</text>

    <!-- GPIO24 (Pin 18) to IN4 -->
    <polyline points="800,240 825,240 825,330 970,330" fill="none" stroke="#2196F3" stroke-width="2" stroke-dasharray="5,3"/>
    <text x="890" y="328" font-size="8" fill="#9E9E9E">GPIO24 → IN4 (予約)</text>
  </g>

  <!-- ================================================ -->
  <!--  12V DC POWER SUPPLY & PUMP                      -->
  <!-- ================================================ -->
  <g id="dc-power-section">
    <rect x="80" y="520" width="280" height="120" rx="8" fill="#FFF3E0" stroke="#FF9800" stroke-width="2"/>
    <text x="220" y="545" text-anchor="middle" font-size="12" font-weight="bold" fill="#E65100">DC 12V 電源部</text>

    <!-- AC-DC PSU -->
    <rect x="100" y="560" width="120" height="60" rx="4" fill="#FFE0B2" stroke="#FF9800" stroke-width="1"/>
    <text x="160" y="582" text-anchor="middle" font-size="10" font-weight="bold" fill="#E65100">AC-DC電源</text>
    <text x="160" y="598" text-anchor="middle" font-size="9" fill="#FF9800">12V / 5A</text>
    <text x="160" y="612" text-anchor="middle" font-size="8" fill="#888">AC100V入力</text>

    <!-- 12V output terminals -->
    <circle cx="240" cy="575" r="6" fill="#FF9800"/><text x="252" y="579" font-size="9" fill="#E65100" font-weight="bold">+12V</text>
    <circle cx="240" cy="605" r="6" fill="#212121"/><text x="252" y="609" font-size="9" fill="#333">GND</text>
  </g>

  <!-- 12V 循環ポンプ -->
  <g id="circulation-pump">
    <rect x="380" y="520" width="200" height="120" rx="8" fill="#FFECB3" stroke="#FF9800" stroke-width="2"/>
    <text x="480" y="545" text-anchor="middle" font-size="12" font-weight="bold" fill="#E65100">DC12V 循環ポンプ</text>
    <text x="480" y="562" text-anchor="middle" font-size="9" fill="#FF9800">水中ポンプ</text>

    <!-- Pump symbol -->
    <circle cx="480" cy="595" r="25" fill="none" stroke="#E65100" stroke-width="2"/>
    <path d="M465,595 L480,580 L495,595 L480,610 Z" fill="#E65100"/>

    <!-- Terminals -->
    <circle cx="400" cy="575" r="5" fill="#FF9800"/><text x="408" y="579" font-size="8" fill="#E65100">+ (12V)</text>
    <circle cx="400" cy="605" r="5" fill="#212121"/><text x="408" y="609" font-size="8" fill="#333">- (GND)</text>
  </g>

  <!-- ================================================ -->
  <!--  AC100V SECTION (with warnings)                  -->
  <!-- ================================================ -->
  <g id="ac-power-section">
    <!-- Warning border -->
    <rect x="620" y="420" width="350" height="260" rx="8" fill="url(#acWarning)" stroke="#212121" stroke-width="3"/>
    <rect x="630" y="430" width="330" height="240" rx="6" fill="#FFF9C4" stroke="#FBC02D" stroke-width="2"/>

    <!-- Warning header -->
    <text x="795" y="455" text-anchor="middle" font-size="14" font-weight="bold" fill="#C62828">⚠️ AC100V 系統 ⚠️</text>
    <text x="795" y="472" text-anchor="middle" font-size="10" fill="#D32F2F">感電注意・資格者作業</text>

    <!-- AC outlet -->
    <rect x="650" y="490" width="100" height="70" rx="4" fill="#FFF" stroke="#212121" stroke-width="2"/>
    <text x="700" y="510" text-anchor="middle" font-size="10" font-weight="bold" fill="#333">AC100V</text>
    <text x="700" y="525" text-anchor="middle" font-size="9" fill="#666">コンセント</text>
    <circle cx="680" cy="545" r="6" fill="#212121"/><text x="668" y="558" font-size="7" fill="#333">L</text>
    <circle cx="720" cy="545" r="6" fill="#2196F3"/><text x="708" y="558" font-size="7" fill="#333">N</text>

    <!-- Air pump -->
    <rect x="800" y="490" width="140" height="70" rx="4" fill="#E3F2FD" stroke="#1976D2" stroke-width="2"/>
    <text x="870" y="512" text-anchor="middle" font-size="11" font-weight="bold" fill="#1565C0">エアポンプ</text>
    <text x="870" y="528" text-anchor="middle" font-size="9" fill="#1976D2">AC100V駆動</text>
    <!-- Pump symbol -->
    <circle cx="870" cy="548" r="12" fill="none" stroke="#1976D2" stroke-width="1.5"/>
    <text x="870" y="552" text-anchor="middle" font-size="10" fill="#1976D2">M</text>

    <!-- AC wiring through relay -->
    <text x="795" y="590" text-anchor="middle" font-size="9" fill="#C62828">リレーCH2経由でON/OFF制御</text>

    <!-- Wiring diagram explanation -->
    <rect x="650" y="600" width="290" height="60" rx="4" fill="#FFEBEE" stroke="#C62828" stroke-width="1"/>
    <text x="795" y="618" text-anchor="middle" font-size="9" font-weight="bold" fill="#C62828">AC配線経路</text>
    <text x="660" y="635" font-size="8" fill="#333">• L線 → リレーCOM2 → NO2 → エアポンプ(L)</text>
    <text x="660" y="650" font-size="8" fill="#333">• N線 → エアポンプ(N) 直結</text>
  </g>

  <!-- ================================================ -->
  <!--  DC12V WIRING (Relay to Pump)                    -->
  <!-- ================================================ -->
  <g id="dc-wiring">
    <!-- 12V+ to Relay COM1 -->
    <polyline points="246,575 300,575 300,400 1260,400 1260,207 1320,207" fill="none" stroke="#FF9800" stroke-width="3"/>
    <text x="780" y="395" font-size="9" fill="#FF9800" font-weight="bold">12V+ → リレーCOM1</text>

    <!-- Relay NO1 to Pump+ -->
    <polyline points="1320,220 1360,220 1360,450 530,450 530,575 400,575" fill="none" stroke="#FF9800" stroke-width="3"/>
    <text x="940" y="445" font-size="9" fill="#FF9800" font-weight="bold">リレーNO1 → ポンプ+</text>

    <!-- Pump- to 12V GND -->
    <polyline points="400,605 350,605 350,640 280,640 280,605 246,605" fill="none" stroke="#212121" stroke-width="3"/>
    <text x="320" y="655" font-size="9" fill="#333" font-weight="bold">ポンプ- → 電源GND</text>
  </g>

  <!-- ================================================ -->
  <!--  RELAY OPERATION EXPLANATION                     -->
  <!-- ================================================ -->
  <g id="relay-explanation">
    <rect x="1000" y="400" width="350" height="100" rx="6" fill="#E8F5E9" stroke="#4CAF50" stroke-width="1"/>
    <text x="1175" y="420" text-anchor="middle" font-size="11" font-weight="bold" fill="#2E7D32">リレー動作説明</text>
    <text x="1015" y="440" font-size="9" fill="#333">• NO (Normally Open) = 通常時オープン（非通電）</text>
    <text x="1015" y="458" font-size="9" fill="#333">• GPIO → LOW でリレーON → NO端子が閉じる</text>
    <text x="1015" y="476" font-size="9" fill="#333">• GPIO → HIGH でリレーOFF → NO端子が開く</text>
    <text x="1015" y="494" font-size="9" fill="#2E7D32" font-weight="bold">※ 光アイソレータでPi側とポンプ側を電気的に分離</text>
  </g>

  <!-- ================================================ -->
  <!--  SAFETY WARNINGS                                 -->
  <!-- ================================================ -->
  <g id="safety-warnings">
    <rect x="80" y="700" width="500" height="140" rx="8" fill="#FFEBEE" stroke="#C62828" stroke-width="3"/>
    <text x="330" y="725" text-anchor="middle" font-size="14" font-weight="bold" fill="#C62828">⚠️ 安全注意事項 ⚠️</text>

    <text x="100" y="750" font-size="11" fill="#C62828" font-weight="bold">❌ AC100V作業は電気工事士の資格者が行うこと</text>
    <text x="100" y="775" font-size="11" fill="#C62828" font-weight="bold">❌ 感電防止のため、必ず電源を切ってから配線作業</text>
    <text x="100" y="800" font-size="11" fill="#C62828" font-weight="bold">❌ 水場での電気作業は十分注意すること</text>
    <text x="100" y="825" font-size="11" fill="#E65100">⚡ 12V系とAC100V系は物理的に分離して配線</text>
  </g>

  <!-- ================================================ -->
  <!--  PIN SUMMARY                                     -->
  <!-- ================================================ -->
  <g id="pin-summary">
    <rect x="620" y="700" width="350" height="140" rx="6" fill="#F5F5F5" stroke="#E0E0E0" stroke-width="1"/>
    <text x="795" y="722" text-anchor="middle" font-size="12" font-weight="bold" fill="#333">Phase 3 GPIO使用一覧</text>

    <text x="635" y="745" font-size="10" fill="#F44336" font-weight="bold">電源:</text>
    <text x="680" y="745" font-size="9" fill="#333">Pin 2/4 (5V), Pin 6 (GND)</text>

    <text x="635" y="768" font-size="10" fill="#2196F3" font-weight="bold">GPIO制御線:</text>
    <text x="720" y="768" font-size="9" fill="#333">Pin 11 (GPIO17) → IN1 循環ポンプ</text>
    <text x="720" y="785" font-size="9" fill="#333">Pin 13 (GPIO27) → IN2 エアポンプ</text>
    <text x="720" y="802" font-size="9" fill="#9E9E9E">Pin 16 (GPIO23) → IN3 UV殺菌灯（予約）</text>
    <text x="720" y="819" font-size="9" fill="#9E9E9E">Pin 18 (GPIO24) → IN4 予備</text>
  </g>

  <!-- ================================================ -->
  <!--  LEGEND                                          -->
  <!-- ================================================ -->
  <g id="legend">
    <rect x="1000" y="520" width="350" height="190" rx="6" fill="#FAFAFA" stroke="#E0E0E0" stroke-width="1"/>
    <text x="1175" y="542" text-anchor="middle" font-size="12" font-weight="bold" fill="#333">凡例（配線色）</text>

    <line x1="1020" y1="565" x2="1070" y2="565" stroke="#F44336" stroke-width="4"/>
    <text x="1080" y="569" font-size="10" fill="#333">赤: VCC (5V)</text>

    <line x1="1020" y1="590" x2="1070" y2="590" stroke="#212121" stroke-width="4"/>
    <text x="1080" y="594" font-size="10" fill="#333">黒: GND</text>

    <line x1="1020" y1="615" x2="1070" y2="615" stroke="#2196F3" stroke-width="3"/>
    <text x="1080" y="619" font-size="10" fill="#333">青: GPIO制御線</text>

    <line x1="1020" y1="640" x2="1070" y2="640" stroke="#FF9800" stroke-width="4"/>
    <text x="1080" y="644" font-size="10" fill="#333">オレンジ: 12V系</text>

    <rect x="1020" y="658" width="50" height="12" fill="url(#acWarning)"/>
    <text x="1080" y="669" font-size="10" fill="#333">黄黒: AC100V系（警告色）</text>

    <line x1="1020" y1="690" x2="1070" y2="690" stroke="#2196F3" stroke-width="2" stroke-dasharray="5,3"/>
    <text x="1080" y="694" font-size="10" fill="#9E9E9E">破線: 予約/未使用</text>
  </g>

  <!-- ================================================ -->
  <!--  POWER ISOLATION NOTE                            -->
  <!-- ================================================ -->
  <g id="isolation-note">
    <rect x="1000" y="720" width="350" height="60" rx="6" fill="#E3F2FD" stroke="#1976D2" stroke-width="1"/>
    <text x="1175" y="742" text-anchor="middle" font-size="11" font-weight="bold" fill="#1565C0">電源分離設計</text>
    <text x="1015" y="762" font-size="9" fill="#333">• Pi 5V系: センサー・リレー入力側</text>
    <text x="1015" y="778" font-size="9" fill="#333">• 外部12V/AC100V系: リレー出力側（ポンプ類）</text>
  </g>

  <!-- ================================================ -->
  <!--  PHASE 1-2 CONTINUITY NOTE                       -->
  <!-- ================================================ -->
  <g id="phase12-note">
    <rect x="80" y="860" width="500" height="60" rx="6" fill="#F3E5F5" stroke="#9C27B0" stroke-width="1"/>
    <text x="330" y="882" text-anchor="middle" font-size="11" font-weight="bold" fill="#7B1FA2">Phase 1-2 センサー類も継続使用</text>
    <text x="100" y="905" font-size="9" fill="#333">DS18B20 (水温), ADS1115+pH/EC, フロートスイッチ → 別途 wiring_diagram.svg 参照</text>
  </g>

</svg>
