<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 900" font-family="sans-serif">
  <defs>
    <marker id="arrowR" viewBox="0 0 10 10" refX="10" refY="5" markerWidth="5" markerHeight="5" orient="auto"><path d="M0 0L10 5L0 10z" fill="#F44336"/></marker>
    <marker id="arrowK" viewBox="0 0 10 10" refX="10" refY="5" markerWidth="5" markerHeight="5" orient="auto"><path d="M0 0L10 5L0 10z" fill="#212121"/></marker>
    <marker id="arrowG" viewBox="0 0 10 10" refX="10" refY="5" markerWidth="5" markerHeight="5" orient="auto"><path d="M0 0L10 5L0 10z" fill="#4CAF50"/></marker>
    <marker id="arrowY" viewBox="0 0 10 10" refX="10" refY="5" markerWidth="5" markerHeight="5" orient="auto"><path d="M0 0L10 5L0 10z" fill="#FFC107"/></marker>
    <marker id="arrowB" viewBox="0 0 10 10" refX="10" refY="5" markerWidth="5" markerHeight="5" orient="auto"><path d="M0 0L10 5L0 10z" fill="#2196F3"/></marker>
    <marker id="arrowP" viewBox="0 0 10 10" refX="10" refY="5" markerWidth="5" markerHeight="5" orient="auto"><path d="M0 0L10 5L0 10z" fill="#9C27B0"/></marker>
  </defs>

  <!-- Background -->
  <rect width="1200" height="900" fill="#FFFFFF"/>

  <!-- Title -->
  <text x="600" y="28" text-anchor="middle" font-size="18" font-weight="bold" fill="#333">Phase 2 ブレッドボード配線図 — センサーノード</text>
  <text x="600" y="46" text-anchor="middle" font-size="11" fill="#888">Raspberry Pi 4 Model B + ADS1115 + pHセンサー + DHT22 + フロートスイッチ + DS18B20</text>

  <!-- ================================================ -->
  <!--  BREADBOARD (フルサイズ 830穴)                     -->
  <!-- ================================================ -->
  <g id="breadboard">
    <rect x="40" y="280" width="700" height="250" rx="4" fill="#F5F5DC" stroke="#8B8B7A" stroke-width="2"/>
    <text x="390" y="300" text-anchor="middle" font-size="10" font-weight="bold" fill="#666">フルサイズ ブレッドボード</text>

    <!-- Power Rails Top (+/-) -->
    <rect x="50" y="310" width="680" height="24" rx="2" fill="#FFF" stroke="#CCC" stroke-width="1"/>
    <line x1="50" y1="318" x2="730" y2="318" stroke="#F44336" stroke-width="1.5"/>
    <text x="55" y="320" font-size="8" fill="#F44336">+</text>
    <line x1="50" y1="330" x2="730" y2="330" stroke="#2196F3" stroke-width="1.5"/>
    <text x="55" y="332" font-size="8" fill="#2196F3">-</text>

    <!-- Main Area (holes) -->
    <rect x="50" y="340" width="680" height="140" rx="2" fill="#FFF" stroke="#CCC" stroke-width="1"/>
    <!-- Center gap -->
    <line x1="50" y1="410" x2="730" y2="410" stroke="#F5F5DC" stroke-width="6"/>

    <!-- Power Rails Bottom (+/-) -->
    <rect x="50" y="486" width="680" height="24" rx="2" fill="#FFF" stroke="#CCC" stroke-width="1"/>
    <line x1="50" y1="494" x2="730" y2="494" stroke="#F44336" stroke-width="1.5"/>
    <text x="55" y="496" font-size="8" fill="#F44336">+</text>
    <line x1="50" y1="506" x2="730" y2="506" stroke="#2196F3" stroke-width="1.5"/>
    <text x="55" y="508" font-size="8" fill="#2196F3">-</text>
  </g>

  <!-- ================================================ -->
  <!--  Raspberry Pi 4 Model B (right side)            -->
  <!-- ================================================ -->
  <g id="raspberry-pi">
    <rect x="800" y="120" width="380" height="520" rx="8" fill="#2E7D32" stroke="#1B5E20" stroke-width="2"/>
    <text x="990" y="145" text-anchor="middle" font-size="14" font-weight="bold" fill="#C8E6C9">Raspberry Pi 4 Model B</text>

    <!-- GPIO Header -->
    <rect x="820" y="170" width="146" height="452" rx="6" fill="#1B5E20" stroke="#0D5302" stroke-width="1"/>
    <text x="893" y="186" text-anchor="middle" font-size="9" fill="#A5D6A7" font-weight="bold">GPIO ピンヘッダ (40pin)</text>

    <!-- Row 1: Pin1=3V3, Pin2=5V  y=200 -->
    <circle cx="853" cy="200" r="6" fill="#F44336"/><circle cx="933" cy="200" r="6" fill="#F44336"/>
    <text x="845" y="203" text-anchor="end" font-size="7" fill="#FFCDD2">1</text><text x="941" y="203" font-size="7" fill="#FFCDD2">2</text>
    <text x="980" y="203" font-size="8" fill="#F44336" font-weight="bold">3V3 / 5V</text>

    <!-- Row 2: Pin3=SDA (GPIO2), Pin4=5V  y=221 -->
    <circle cx="853" cy="221" r="6" fill="#4CAF50"/><circle cx="933" cy="221" r="6" fill="#F44336"/>
    <text x="845" y="224" text-anchor="end" font-size="7" fill="#C8E6C9">3</text><text x="941" y="224" font-size="7" fill="#FFCDD2">4</text>
    <text x="980" y="224" font-size="8" fill="#4CAF50" font-weight="bold">SDA (GPIO2)</text>

    <!-- Row 3: Pin5=SCL (GPIO3), Pin6=GND  y=242 -->
    <circle cx="853" cy="242" r="6" fill="#2196F3"/><circle cx="933" cy="242" r="6" fill="#212121" stroke="#666" stroke-width="1"/>
    <text x="845" y="245" text-anchor="end" font-size="7" fill="#BBDEFB">5</text><text x="941" y="245" font-size="7" fill="#999">6</text>
    <text x="980" y="245" font-size="8" fill="#2196F3" font-weight="bold">SCL (GPIO3)</text>
    <text x="1120" y="245" font-size="8" fill="#666">GND</text>

    <!-- Row 4: Pin7=GPIO4, Pin8=TX  y=263 -->
    <circle cx="853" cy="263" r="6" fill="#FFC107"/><circle cx="933" cy="263" r="6" fill="#9E9E9E"/>
    <text x="845" y="266" text-anchor="end" font-size="7" fill="#FFF9C4">7</text><text x="941" y="266" font-size="7" fill="#ccc">8</text>
    <text x="980" y="266" font-size="8" fill="#FFC107" font-weight="bold">GPIO4 (DS18B20)</text>

    <!-- Row 5: Pin9=GND, Pin10=RX  y=284 -->
    <circle cx="853" cy="284" r="6" fill="#212121" stroke="#666" stroke-width="1"/><circle cx="933" cy="284" r="6" fill="#9E9E9E"/>
    <text x="845" y="287" text-anchor="end" font-size="7" fill="#999">9</text><text x="941" y="287" font-size="7" fill="#ccc">10</text>
    <text x="980" y="287" font-size="8" fill="#666">GND</text>

    <!-- Row 6: Pin11=GPIO17, Pin12=GPIO18  y=305 -->
    <circle cx="853" cy="305" r="6" fill="#FFC107"/><circle cx="933" cy="305" r="6" fill="#9E9E9E"/>
    <text x="845" y="308" text-anchor="end" font-size="7" fill="#FFF9C4">11</text><text x="941" y="308" font-size="7" fill="#ccc">12</text>
    <text x="980" y="308" font-size="8" fill="#FFC107" font-weight="bold">GPIO17 (DHT22)</text>

    <!-- Row 7: Pin13=GPIO27, Pin14=GND  y=326 -->
    <circle cx="853" cy="326" r="6" fill="#9E9E9E"/><circle cx="933" cy="326" r="6" fill="#212121" stroke="#666" stroke-width="1"/>
    <text x="845" y="329" text-anchor="end" font-size="7" fill="#ccc">13</text><text x="941" y="329" font-size="7" fill="#999">14</text>
    <text x="1120" y="329" font-size="8" fill="#666">GND</text>

    <!-- Row 8: Pin15=GPIO22, Pin16=GPIO23  y=347 -->
    <circle cx="853" cy="347" r="6" fill="#9C27B0"/><circle cx="933" cy="347" r="6" fill="#9E9E9E"/>
    <text x="845" y="350" text-anchor="end" font-size="7" fill="#E1BEE7">15</text><text x="941" y="350" font-size="7" fill="#ccc">16</text>
    <text x="980" y="350" font-size="8" fill="#9C27B0" font-weight="bold">GPIO22 (フロートSW)</text>

    <!-- Row 9-20: remaining pins (simplified) -->
    <circle cx="853" cy="368" r="6" fill="#F44336"/><circle cx="933" cy="368" r="6" fill="#9E9E9E"/>
    <text x="845" y="371" text-anchor="end" font-size="7" fill="#FFCDD2">17</text><text x="941" y="371" font-size="7" fill="#ccc">18</text>
    <circle cx="853" cy="389" r="6" fill="#9E9E9E"/><circle cx="933" cy="389" r="6" fill="#212121" stroke="#666" stroke-width="1"/>
    <text x="845" y="392" text-anchor="end" font-size="7" fill="#ccc">19</text><text x="941" y="392" font-size="7" fill="#999">20</text>
    <circle cx="853" cy="410" r="6" fill="#9E9E9E"/><circle cx="933" cy="410" r="6" fill="#9E9E9E"/>
    <text x="845" y="413" text-anchor="end" font-size="7" fill="#ccc">21</text><text x="941" y="413" font-size="7" fill="#ccc">22</text>
    <circle cx="853" cy="431" r="6" fill="#9E9E9E"/><circle cx="933" cy="431" r="6" fill="#9E9E9E"/>
    <text x="845" y="434" text-anchor="end" font-size="7" fill="#ccc">23</text><text x="941" y="434" font-size="7" fill="#ccc">24</text>
    <circle cx="853" cy="452" r="6" fill="#212121" stroke="#666" stroke-width="1"/><circle cx="933" cy="452" r="6" fill="#9E9E9E"/>
    <text x="845" y="455" text-anchor="end" font-size="7" fill="#999">25</text><text x="941" y="455" font-size="7" fill="#ccc">26</text>
    <circle cx="853" cy="473" r="6" fill="#9E9E9E"/><circle cx="933" cy="473" r="6" fill="#9E9E9E"/>
    <text x="845" y="476" text-anchor="end" font-size="7" fill="#ccc">27</text><text x="941" y="476" font-size="7" fill="#ccc">28</text>
    <circle cx="853" cy="494" r="6" fill="#9E9E9E"/><circle cx="933" cy="494" r="6" fill="#212121" stroke="#666" stroke-width="1"/>
    <text x="845" y="497" text-anchor="end" font-size="7" fill="#ccc">29</text><text x="941" y="497" font-size="7" fill="#999">30</text>
    <circle cx="853" cy="515" r="6" fill="#9E9E9E"/><circle cx="933" cy="515" r="6" fill="#9E9E9E"/>
    <text x="845" y="518" text-anchor="end" font-size="7" fill="#ccc">31</text><text x="941" y="518" font-size="7" fill="#ccc">32</text>
    <circle cx="853" cy="536" r="6" fill="#9E9E9E"/><circle cx="933" cy="536" r="6" fill="#212121" stroke="#666" stroke-width="1"/>
    <text x="845" y="539" text-anchor="end" font-size="7" fill="#ccc">33</text><text x="941" y="539" font-size="7" fill="#999">34</text>
    <circle cx="853" cy="557" r="6" fill="#9E9E9E"/><circle cx="933" cy="557" r="6" fill="#9E9E9E"/>
    <text x="845" y="560" text-anchor="end" font-size="7" fill="#ccc">35</text><text x="941" y="560" font-size="7" fill="#ccc">36</text>
    <circle cx="853" cy="578" r="6" fill="#9E9E9E"/><circle cx="933" cy="578" r="6" fill="#9E9E9E"/>
    <text x="845" y="581" text-anchor="end" font-size="7" fill="#ccc">37</text><text x="941" y="581" font-size="7" fill="#ccc">38</text>
    <circle cx="853" cy="599" r="6" fill="#212121" stroke="#666" stroke-width="1"/><circle cx="933" cy="599" r="6" fill="#9E9E9E"/>
    <text x="845" y="602" text-anchor="end" font-size="7" fill="#999">39</text><text x="941" y="602" font-size="7" fill="#ccc">40</text>
    <text x="980" y="602" font-size="8" fill="#666">GND</text>
  </g>

  <!-- ================================================ -->
  <!--  ADS1115 ADC Module (on breadboard)             -->
  <!-- ================================================ -->
  <g id="ads1115">
    <rect x="80" y="355" width="120" height="90" rx="4" fill="#FFF3E0" stroke="#FF9800" stroke-width="2"/>
    <text x="140" y="372" text-anchor="middle" font-size="10" font-weight="bold" fill="#E65100">ADS1115</text>
    <text x="140" y="385" text-anchor="middle" font-size="8" fill="#FF9800">16bit ADC (I2C)</text>
    <text x="140" y="398" text-anchor="middle" font-size="7" fill="#888">Addr: 0x48</text>

    <!-- Pins -->
    <text x="90" y="415" font-size="7" fill="#F44336">VCC</text>
    <text x="90" y="428" font-size="7" fill="#212121">GND</text>
    <text x="90" y="441" font-size="7" fill="#4CAF50">SDA</text>

    <text x="180" y="415" text-anchor="end" font-size="7" fill="#2196F3">SCL</text>
    <text x="180" y="428" text-anchor="end" font-size="7" fill="#212121">ADDR</text>
    <text x="180" y="441" text-anchor="end" font-size="7" fill="#FFC107">A0</text>
  </g>

  <!-- ================================================ -->
  <!--  DHT22 Sensor (on breadboard)                   -->
  <!-- ================================================ -->
  <g id="dht22">
    <rect x="240" y="355" width="100" height="90" rx="4" fill="#E3F2FD" stroke="#2196F3" stroke-width="2"/>
    <text x="290" y="372" text-anchor="middle" font-size="10" font-weight="bold" fill="#1565C0">DHT22</text>
    <text x="290" y="385" text-anchor="middle" font-size="8" fill="#2196F3">温湿度センサー</text>

    <!-- Pins (4-pin version) -->
    <text x="250" y="410" font-size="7" fill="#F44336">VCC</text>
    <text x="250" y="423" font-size="7" fill="#FFC107">DATA</text>
    <text x="250" y="436" font-size="7" fill="#9E9E9E">NC</text>
    <text x="320" y="410" text-anchor="end" font-size="7" fill="#212121">GND</text>

    <!-- 10kΩ Pullup Resistor Symbol -->
    <line x1="295" y1="450" x2="295" y2="455" stroke="#FFC107" stroke-width="1.5"/>
    <path d="M295,455 l-4,3 l8,3 l-8,3 l8,3 l-8,3 l4,3" fill="none" stroke="#FFC107" stroke-width="1.5"/>
    <line x1="295" y1="476" x2="295" y2="481" stroke="#FFC107" stroke-width="1.5"/>
    <text x="310" y="468" font-size="7" fill="#FFC107">10kΩ</text>
  </g>

  <!-- ================================================ -->
  <!--  DS18B20 Sensor (on breadboard - Phase 1継続)    -->
  <!-- ================================================ -->
  <g id="ds18b20">
    <rect x="380" y="355" width="100" height="90" rx="4" fill="#F3E5F5" stroke="#9C27B0" stroke-width="2"/>
    <text x="430" y="372" text-anchor="middle" font-size="10" font-weight="bold" fill="#6A1B9A">DS18B20</text>
    <text x="430" y="385" text-anchor="middle" font-size="8" fill="#9C27B0">水温センサー</text>
    <text x="430" y="398" text-anchor="middle" font-size="7" fill="#888">(Phase 1継続)</text>

    <!-- Pins -->
    <text x="390" y="420" font-size="7" fill="#212121">GND</text>
    <text x="390" y="433" font-size="7" fill="#FFC107">DATA</text>
    <text x="460" y="420" text-anchor="end" font-size="7" fill="#F44336">VCC</text>

    <!-- 4.7kΩ Pullup Resistor Symbol -->
    <line x1="445" y1="450" x2="445" y2="455" stroke="#FFC107" stroke-width="1.5"/>
    <path d="M445,455 l-4,3 l8,3 l-8,3 l8,3 l-8,3 l4,3" fill="none" stroke="#FFC107" stroke-width="1.5"/>
    <line x1="445" y1="476" x2="445" y2="481" stroke="#FFC107" stroke-width="1.5"/>
    <text x="460" y="468" font-size="7" fill="#9C27B0">4.7kΩ</text>
  </g>

  <!-- ================================================ -->
  <!--  Float Switch (on breadboard)                   -->
  <!-- ================================================ -->
  <g id="float-switch">
    <rect x="520" y="355" width="100" height="90" rx="4" fill="#E8F5E9" stroke="#4CAF50" stroke-width="2"/>
    <text x="570" y="372" text-anchor="middle" font-size="10" font-weight="bold" fill="#2E7D32">フロートSW</text>
    <text x="570" y="385" text-anchor="middle" font-size="8" fill="#4CAF50">水位センサー</text>

    <!-- Switch Symbol -->
    <line x1="540" y1="410" x2="540" y2="425" stroke="#9C27B0" stroke-width="2"/>
    <line x1="540" y1="425" x2="565" y2="415" stroke="#9C27B0" stroke-width="2"/>
    <circle cx="568" cy="413" r="3" fill="none" stroke="#9C27B0" stroke-width="1.5"/>
    <line x1="571" y1="410" x2="600" y2="410" stroke="#212121" stroke-width="2"/>

    <text x="530" y="438" font-size="7" fill="#9C27B0">GPIO22</text>
    <text x="600" y="414" font-size="7" fill="#212121">GND</text>
    <text x="570" y="436" text-anchor="middle" font-size="6" fill="#888">(内蔵プルアップ)</text>
  </g>

  <!-- ================================================ -->
  <!--  pH Sensor Module (external)                    -->
  <!-- ================================================ -->
  <g id="ph-sensor">
    <rect x="40" y="560" width="180" height="90" rx="6" fill="#E8F5E9" stroke="#4CAF50" stroke-width="2"/>
    <text x="130" y="580" text-anchor="middle" font-size="11" font-weight="bold" fill="#2E7D32">pHセンサー</text>
    <text x="130" y="595" text-anchor="middle" font-size="8" fill="#4CAF50">DFRobot SEN0161-V2</text>

    <!-- Module pins -->
    <text x="210" y="615" text-anchor="end" font-size="8" fill="#F44336">● VCC (5V)</text>
    <text x="210" y="630" text-anchor="end" font-size="8" fill="#212121">● GND</text>
    <text x="210" y="645" text-anchor="end" font-size="8" fill="#FFC107">● Signal → A0</text>
  </g>

  <!-- ================================================ -->
  <!--  WIRING CONNECTIONS                              -->
  <!-- ================================================ -->

  <!-- Power Rails from Pi -->
  <!-- 3.3V (Pin1) to breadboard + rail -->
  <polyline points="853,200 780,200 780,318 730,318" fill="none" stroke="#F44336" stroke-width="2.5"/>
  <text x="765" y="260" font-size="7" fill="#F44336" transform="rotate(-90,765,260)">3.3V</text>

  <!-- 5V (Pin2) to pH sensor -->
  <polyline points="933,200 750,200 750,612 220,612" fill="none" stroke="#F44336" stroke-width="2" stroke-dasharray="6,3"/>
  <text x="485" y="605" font-size="7" fill="#F44336">5V (pHモジュール用)</text>

  <!-- GND (Pin6) to breadboard - rail -->
  <polyline points="933,242 770,242 770,330 730,330" fill="none" stroke="#212121" stroke-width="2.5"/>
  <text x="755" y="290" font-size="7" fill="#666" transform="rotate(-90,755,290)">GND</text>

  <!-- I2C: SDA (Pin3/GPIO2) to ADS1115 -->
  <polyline points="853,221 760,221 760,370 200,370 200,438 90,438" fill="none" stroke="#4CAF50" stroke-width="2"/>
  <circle cx="200" cy="370" r="3" fill="#4CAF50"/>

  <!-- I2C: SCL (Pin5/GPIO3) to ADS1115 -->
  <polyline points="853,242 745,242 745,355 210,355 210,412 180,412" fill="none" stroke="#2196F3" stroke-width="2"/>
  <circle cx="210" cy="355" r="3" fill="#2196F3"/>

  <!-- GPIO4 (Pin7) to DS18B20 DATA -->
  <polyline points="853,263 735,263 735,430 390,430" fill="none" stroke="#FFC107" stroke-width="2"/>

  <!-- GPIO17 (Pin11) to DHT22 DATA -->
  <polyline points="853,305 725,305 725,420 295,420 295,423 250,423" fill="none" stroke="#FFC107" stroke-width="2"/>

  <!-- GPIO22 (Pin15) to Float Switch -->
  <polyline points="853,347 715,347 715,410 540,410" fill="none" stroke="#9C27B0" stroke-width="2"/>

  <!-- ADS1115 VCC from 3.3V rail -->
  <polyline points="90,412 70,412 70,318" fill="none" stroke="#F44336" stroke-width="1.5"/>
  <circle cx="70" cy="318" r="3" fill="#F44336"/>

  <!-- ADS1115 GND to GND rail -->
  <polyline points="90,425 60,425 60,330" fill="none" stroke="#212121" stroke-width="1.5"/>
  <circle cx="60" cy="330" r="3" fill="#212121"/>

  <!-- ADS1115 ADDR to GND (0x48 address) -->
  <polyline points="180,425 190,425 190,506 70,506" fill="none" stroke="#212121" stroke-width="1.5" stroke-dasharray="3,2"/>
  <circle cx="70" cy="506" r="3" fill="#212121"/>
  <text x="135" y="520" font-size="6" fill="#888">ADDR→GND (0x48)</text>

  <!-- ADS1115 A0 to pH sensor signal -->
  <polyline points="180,438 240,438 240,550 150,550 150,642 220,642" fill="none" stroke="#FFC107" stroke-width="2"/>
  <text x="195" y="548" font-size="7" fill="#FFC107">A0</text>

  <!-- DHT22 VCC from 3.3V rail -->
  <polyline points="250,407 230,407 230,318 100,318" fill="none" stroke="#F44336" stroke-width="1.5"/>
  <circle cx="100" cy="318" r="3" fill="#F44336"/>

  <!-- DHT22 GND -->
  <polyline points="320,407 340,407 340,506 130,506" fill="none" stroke="#212121" stroke-width="1.5"/>
  <circle cx="130" cy="506" r="3" fill="#212121"/>

  <!-- DHT22 pullup to 3.3V -->
  <polyline points="295,450" fill="none" stroke="#FFC107" stroke-width="1"/>
  <polyline points="295,481 295,490 280,490 280,318 160,318" fill="none" stroke="#F44336" stroke-width="1" stroke-dasharray="3,2"/>
  <circle cx="160" cy="318" r="2" fill="#F44336"/>

  <!-- DS18B20 VCC from 3.3V rail -->
  <polyline points="460,417 470,417 470,318 200,318" fill="none" stroke="#F44336" stroke-width="1.5"/>
  <circle cx="200" cy="318" r="3" fill="#F44336"/>

  <!-- DS18B20 GND -->
  <polyline points="390,417 370,417 370,506 260,506" fill="none" stroke="#212121" stroke-width="1.5"/>
  <circle cx="260" cy="506" r="3" fill="#212121"/>

  <!-- DS18B20 pullup to 3.3V -->
  <polyline points="445,481 445,490 430,490 430,318 240,318" fill="none" stroke="#F44336" stroke-width="1" stroke-dasharray="3,2"/>
  <circle cx="240" cy="318" r="2" fill="#F44336"/>

  <!-- Float switch GND -->
  <polyline points="600,410 620,410 620,506 350,506" fill="none" stroke="#212121" stroke-width="1.5"/>
  <circle cx="350" cy="506" r="3" fill="#212121"/>

  <!-- pH sensor GND -->
  <polyline points="220,627 300,627 300,550 280,550 280,506 400,506" fill="none" stroke="#212121" stroke-width="1.5"/>
  <circle cx="400" cy="506" r="3" fill="#212121"/>

  <!-- ================================================ -->
  <!--  LEGEND                                          -->
  <!-- ================================================ -->
  <g id="legend">
    <rect x="40" y="700" width="350" height="180" rx="6" fill="#FAFAFA" stroke="#E0E0E0" stroke-width="1"/>
    <text x="215" y="720" text-anchor="middle" font-size="11" font-weight="bold" fill="#333">凡例（配線色）</text>

    <line x1="55" y1="740" x2="95" y2="740" stroke="#F44336" stroke-width="3"/>
    <text x="105" y="744" font-size="9" fill="#333">VCC (3.3V / 5V) - 赤</text>

    <line x1="55" y1="762" x2="95" y2="762" stroke="#212121" stroke-width="3"/>
    <text x="105" y="766" font-size="9" fill="#333">GND - 黒</text>

    <line x1="55" y1="784" x2="95" y2="784" stroke="#4CAF50" stroke-width="3"/>
    <text x="105" y="788" font-size="9" fill="#333">SDA (I2C) - 緑</text>

    <line x1="55" y1="806" x2="95" y2="806" stroke="#2196F3" stroke-width="3"/>
    <text x="105" y="810" font-size="9" fill="#333">SCL (I2C) - 青</text>

    <line x1="55" y1="828" x2="95" y2="828" stroke="#FFC107" stroke-width="3"/>
    <text x="105" y="832" font-size="9" fill="#333">データ線 - 黄</text>

    <line x1="55" y1="850" x2="95" y2="850" stroke="#9C27B0" stroke-width="3"/>
    <text x="105" y="854" font-size="9" fill="#333">GPIO入力 - 紫</text>

    <line x1="55" y1="872" x2="95" y2="872" stroke="#999" stroke-width="2" stroke-dasharray="4,2"/>
    <text x="105" y="876" font-size="9" fill="#333">電源バス / プルアップ（破線）</text>

    <!-- Resistor symbol -->
    <path d="M235,738 l5,-5 l8,10 l8,-10 l8,10 l8,-10 l5,5" fill="none" stroke="#666" stroke-width="1.5"/>
    <text x="285" y="742" font-size="9" fill="#333">抵抗</text>
  </g>

  <!-- ================================================ -->
  <!--  ADS1115 Channel Info                            -->
  <!-- ================================================ -->
  <g id="ads1115-channels">
    <rect x="420" y="700" width="200" height="100" rx="4" fill="#FFF3E0" stroke="#FF9800" stroke-width="1"/>
    <text x="520" y="718" text-anchor="middle" font-size="10" font-weight="bold" fill="#E65100">ADS1115 チャンネル</text>
    <text x="430" y="740" font-size="9" fill="#4CAF50">● A0: pHセンサー信号</text>
    <text x="430" y="758" font-size="9" fill="#9E9E9E">○ A1: 未使用（将来EC用）</text>
    <text x="430" y="776" font-size="9" fill="#9E9E9E">○ A2: 未使用</text>
    <text x="430" y="794" font-size="9" fill="#9E9E9E">○ A3: 未使用</text>
  </g>

  <!-- ================================================ -->
  <!--  GPIO Usage Summary                              -->
  <!-- ================================================ -->
  <g id="pin-summary">
    <rect x="650" y="700" width="340" height="180" rx="4" fill="#F5F5F5" stroke="#E0E0E0" stroke-width="1"/>
    <text x="820" y="720" text-anchor="middle" font-size="10" font-weight="bold" fill="#333">Pi 4 使用ピン一覧 (Phase 2)</text>

    <text x="660" y="745" font-size="9" fill="#F44336" font-weight="bold">電源:</text>
    <text x="660" y="760" font-size="8" fill="#666">Pin 1 (3.3V): ADS1115, DHT22, DS18B20</text>
    <text x="660" y="773" font-size="8" fill="#666">Pin 2 (5V): pHモジュール</text>
    <text x="660" y="786" font-size="8" fill="#666">Pin 6,9,14 (GND): 各センサー</text>

    <text x="660" y="808" font-size="9" fill="#4CAF50" font-weight="bold">I2C:</text>
    <text x="660" y="821" font-size="8" fill="#666">Pin 3 (GPIO2/SDA): ADS1115</text>
    <text x="660" y="834" font-size="8" fill="#666">Pin 5 (GPIO3/SCL): ADS1115</text>

    <text x="660" y="856" font-size="9" fill="#FFC107" font-weight="bold">データ:</text>
    <text x="660" y="869" font-size="8" fill="#666">Pin 7 (GPIO4): DS18B20 (1-Wire)</text>
    <text x="825" y="869" font-size="8" fill="#666">Pin 11 (GPIO17): DHT22</text>
    <text x="825" y="856" font-size="9" fill="#9C27B0" font-weight="bold">GPIO入力:</text>
    <text x="825" y="882" font-size="8" fill="#666">Pin 15 (GPIO22): フロートSW</text>
  </g>

  <!-- ================================================ -->
  <!--  Notes                                           -->
  <!-- ================================================ -->
  <g id="notes">
    <rect x="40" y="80" width="720" height="80" rx="4" fill="#FFFDE7" stroke="#FFC107" stroke-width="1"/>
    <text x="50" y="100" font-size="10" font-weight="bold" fill="#F57F17">配線ノート</text>
    <text x="50" y="118" font-size="8" fill="#666">• ADS1115のADDRピンをGNDに接続 → I2Cアドレス 0x48</text>
    <text x="50" y="133" font-size="8" fill="#666">• DHT22とDS18B20には必ずプルアップ抵抗を接続（DATA-VCC間）</text>
    <text x="50" y="148" font-size="8" fill="#666">• フロートスイッチはソフトウェアプルアップ使用（GPIO22 INPUT_PULLUP）</text>
    <text x="400" y="118" font-size="8" fill="#666">• pHモジュールは5V駆動（アナログ出力をADS1115で読取）</text>
    <text x="400" y="133" font-size="8" fill="#666">• DS18B20はPhase 1から継続使用</text>
  </g>

</svg>
